# -*- coding: utf-8 -*-
"""projeto.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1UuD8KUhDVC0GyL6Jlax82tus4KJaUD6m
"""


"""INSTALE AS DEPENDÊNCIAS DO PYTHON UTILIZANDO O COMANDO ABAIXO"""
"""!pip install --ignore-installed -r sample_data/requirements.txt"""



"""Após a instalação das dependências, execute o script abaixo."""

"""Grafico 1:"""

import pandas as pd
import matplotlib.pyplot as plt

df = pd.read_csv('sample_data/fiveyearsdatas.csv')

# Convertendo a coluna 'timestamp' para formato de data
df['timestamp'] = pd.to_datetime(df['timestamp'], unit='s')

# Selecionando apenas os últimos 5 anos de dados
last_5_years = df[df['timestamp'] >= df['timestamp'].max() - pd.DateOffset(years=5)]

# Criando o gráfico
plt.figure(figsize=(10, 6))
plt.plot(last_5_years['timestamp'], last_5_years['price'], marker='o', linestyle='-', color='b')
plt.xlabel('Data')
plt.ylabel('Preço do Bitcoin')
plt.title('Valor do Bitcoin nos Últimos 5 Anos')
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

import plotly.graph_objects as go
import plotly.io as pio

# Carregar os dados do arquivo CSV
data = pd.read_csv('sample_data/thirtydaysdatas.csv')

time_period_start = data["time_period_start"]
price_open = data["price_open"]
price_high = data["price_high"]
price_low = data["price_low"]
price_close = data["price_close"]

grafico = go.Figure(data=[go.Candlestick(
    x=time_period_start,
    open=price_open,
    high=price_high,
    low=price_low,
    close=price_close
)])

#Montando layout
grafico.update_layout(
    title='Últimos 30 Dias',
    xaxis_title='Período',
    yaxis_title='Preço',
    height=800,
    width=1000
)

# Exibir o gráfico no console
pio.show(grafico)